---
source: crates/tribute-passes/src/native/adt_rc_header.rs
assertion_line: 462
expression: output
---
core.module @test {
  func.func @create_struct(%0: core.i32, %1: core.i32) -> core.ptr {
    ^bb0:
      %2 = clif.iconst {value = 16} : core.i64
      %3 = clif.call %2 {callee = @__tribute_alloc} : core.ptr
      %4 = clif.iconst {value = 1} : core.i32
      clif.store %4, %3 {offset = 0}
      %5 = clif.iconst {value = 32} : core.i32
      clif.store %5, %3 {offset = 4}
      %6 = clif.iconst {value = 8} : core.i64
      %7 = clif.iadd %3, %6 : core.ptr
      clif.store %0, %7 {offset = 0}
      clif.store %1, %7 {offset = 4}
      %8 = clif.iconst {value = 0} : core.i64
      %9 = clif.iadd %7, %8 : core.ptr
      func.return %9
  }
  clif.func {sym_name = @__tribute_release_32, type = core.func(core.nil, core.ptr)} {
    ^bb0(%0: core.ptr):
      %1 = clif.iconst {value = 8} : core.i64
      %2 = clif.isub %0, %1 : core.ptr
      %3 = clif.iconst {value = 16} : core.i64
      %4 = clif.call %2, %3 {callee = @__tribute_dealloc} : core.nil
      clif.return
  }
}
