---
source: tests/parse.rs
expression: hir
---
HirProgram {
    [salsa id]: Id(1400),
    functions: {
        "main": HirFunction {
            [salsa id]: Id(1000),
            name: "main",
            params: [],
            body: [
                HirExpr {
                    [salsa id]: Id(c00),
                    expr: Let {
                        var: "line",
                        value: (
                            Call {
                                func: (
                                    Variable(
                                        "split",
                                    ),
                                    SimpleSpan {
                                        start: 26,
                                        end: 31,
                                        context: (),
                                    },
                                ),
                                args: [
                                    (
                                        String(
                                            " ",
                                        ),
                                        SimpleSpan {
                                            start: 32,
                                            end: 35,
                                            context: (),
                                        },
                                    ),
                                    (
                                        Call {
                                            func: (
                                                Variable(
                                                    "trim_right",
                                                ),
                                                SimpleSpan {
                                                    start: 37,
                                                    end: 47,
                                                    context: (),
                                                },
                                            ),
                                            args: [
                                                (
                                                    Call {
                                                        func: (
                                                            Variable(
                                                                "input_line",
                                                            ),
                                                            SimpleSpan {
                                                                start: 49,
                                                                end: 59,
                                                                context: (),
                                                            },
                                                        ),
                                                        args: [],
                                                    },
                                                    SimpleSpan {
                                                        start: 48,
                                                        end: 60,
                                                        context: (),
                                                    },
                                                ),
                                            ],
                                        },
                                        SimpleSpan {
                                            start: 36,
                                            end: 61,
                                            context: (),
                                        },
                                    ),
                                ],
                            },
                            SimpleSpan {
                                start: 25,
                                end: 62,
                                context: (),
                            },
                        ),
                    },
                    span: SimpleSpan {
                        start: 15,
                        end: 63,
                        context: (),
                    },
                },
                HirExpr {
                    [salsa id]: Id(c01),
                    expr: Let {
                        var: "a",
                        value: (
                            Call {
                                func: (
                                    Variable(
                                        "to_number",
                                    ),
                                    SimpleSpan {
                                        start: 76,
                                        end: 85,
                                        context: (),
                                    },
                                ),
                                args: [
                                    (
                                        Call {
                                            func: (
                                                Variable(
                                                    "get",
                                                ),
                                                SimpleSpan {
                                                    start: 87,
                                                    end: 90,
                                                    context: (),
                                                },
                                            ),
                                            args: [
                                                (
                                                    Number(
                                                        0,
                                                    ),
                                                    SimpleSpan {
                                                        start: 91,
                                                        end: 92,
                                                        context: (),
                                                    },
                                                ),
                                                (
                                                    Variable(
                                                        "line",
                                                    ),
                                                    SimpleSpan {
                                                        start: 93,
                                                        end: 97,
                                                        context: (),
                                                    },
                                                ),
                                            ],
                                        },
                                        SimpleSpan {
                                            start: 86,
                                            end: 98,
                                            context: (),
                                        },
                                    ),
                                ],
                            },
                            SimpleSpan {
                                start: 75,
                                end: 99,
                                context: (),
                            },
                        ),
                    },
                    span: SimpleSpan {
                        start: 68,
                        end: 100,
                        context: (),
                    },
                },
                HirExpr {
                    [salsa id]: Id(c02),
                    expr: Let {
                        var: "op",
                        value: (
                            Call {
                                func: (
                                    Variable(
                                        "get",
                                    ),
                                    SimpleSpan {
                                        start: 114,
                                        end: 117,
                                        context: (),
                                    },
                                ),
                                args: [
                                    (
                                        Number(
                                            1,
                                        ),
                                        SimpleSpan {
                                            start: 118,
                                            end: 119,
                                            context: (),
                                        },
                                    ),
                                    (
                                        Variable(
                                            "line",
                                        ),
                                        SimpleSpan {
                                            start: 120,
                                            end: 124,
                                            context: (),
                                        },
                                    ),
                                ],
                            },
                            SimpleSpan {
                                start: 113,
                                end: 125,
                                context: (),
                            },
                        ),
                    },
                    span: SimpleSpan {
                        start: 105,
                        end: 126,
                        context: (),
                    },
                },
                HirExpr {
                    [salsa id]: Id(c03),
                    expr: Let {
                        var: "b",
                        value: (
                            Call {
                                func: (
                                    Variable(
                                        "to_number",
                                    ),
                                    SimpleSpan {
                                        start: 139,
                                        end: 148,
                                        context: (),
                                    },
                                ),
                                args: [
                                    (
                                        Call {
                                            func: (
                                                Variable(
                                                    "get",
                                                ),
                                                SimpleSpan {
                                                    start: 150,
                                                    end: 153,
                                                    context: (),
                                                },
                                            ),
                                            args: [
                                                (
                                                    Number(
                                                        2,
                                                    ),
                                                    SimpleSpan {
                                                        start: 154,
                                                        end: 155,
                                                        context: (),
                                                    },
                                                ),
                                                (
                                                    Variable(
                                                        "line",
                                                    ),
                                                    SimpleSpan {
                                                        start: 156,
                                                        end: 160,
                                                        context: (),
                                                    },
                                                ),
                                            ],
                                        },
                                        SimpleSpan {
                                            start: 149,
                                            end: 161,
                                            context: (),
                                        },
                                    ),
                                ],
                            },
                            SimpleSpan {
                                start: 138,
                                end: 162,
                                context: (),
                            },
                        ),
                    },
                    span: SimpleSpan {
                        start: 131,
                        end: 163,
                        context: (),
                    },
                },
                HirExpr {
                    [salsa id]: Id(c04),
                    expr: Let {
                        var: "result",
                        value: (
                            Match {
                                expr: (
                                    Variable(
                                        "op",
                                    ),
                                    SimpleSpan {
                                        start: 187,
                                        end: 189,
                                        context: (),
                                    },
                                ),
                                cases: [
                                    MatchCase {
                                        pattern: Literal(
                                            String(
                                                "+",
                                            ),
                                        ),
                                        body: (
                                            Call {
                                                func: (
                                                    Variable(
                                                        "+",
                                                    ),
                                                    SimpleSpan {
                                                        start: 209,
                                                        end: 210,
                                                        context: (),
                                                    },
                                                ),
                                                args: [
                                                    (
                                                        Variable(
                                                            "a",
                                                        ),
                                                        SimpleSpan {
                                                            start: 211,
                                                            end: 212,
                                                            context: (),
                                                        },
                                                    ),
                                                    (
                                                        Variable(
                                                            "b",
                                                        ),
                                                        SimpleSpan {
                                                            start: 213,
                                                            end: 214,
                                                            context: (),
                                                        },
                                                    ),
                                                ],
                                            },
                                            SimpleSpan {
                                                start: 208,
                                                end: 215,
                                                context: (),
                                            },
                                        ),
                                    },
                                    MatchCase {
                                        pattern: Literal(
                                            String(
                                                "-",
                                            ),
                                        ),
                                        body: (
                                            Call {
                                                func: (
                                                    Variable(
                                                        "-",
                                                    ),
                                                    SimpleSpan {
                                                        start: 236,
                                                        end: 237,
                                                        context: (),
                                                    },
                                                ),
                                                args: [
                                                    (
                                                        Variable(
                                                            "a",
                                                        ),
                                                        SimpleSpan {
                                                            start: 238,
                                                            end: 239,
                                                            context: (),
                                                        },
                                                    ),
                                                    (
                                                        Variable(
                                                            "b",
                                                        ),
                                                        SimpleSpan {
                                                            start: 240,
                                                            end: 241,
                                                            context: (),
                                                        },
                                                    ),
                                                ],
                                            },
                                            SimpleSpan {
                                                start: 235,
                                                end: 242,
                                                context: (),
                                            },
                                        ),
                                    },
                                    MatchCase {
                                        pattern: Literal(
                                            String(
                                                "*",
                                            ),
                                        ),
                                        body: (
                                            Call {
                                                func: (
                                                    Variable(
                                                        "*",
                                                    ),
                                                    SimpleSpan {
                                                        start: 263,
                                                        end: 264,
                                                        context: (),
                                                    },
                                                ),
                                                args: [
                                                    (
                                                        Variable(
                                                            "a",
                                                        ),
                                                        SimpleSpan {
                                                            start: 265,
                                                            end: 266,
                                                            context: (),
                                                        },
                                                    ),
                                                    (
                                                        Variable(
                                                            "b",
                                                        ),
                                                        SimpleSpan {
                                                            start: 267,
                                                            end: 268,
                                                            context: (),
                                                        },
                                                    ),
                                                ],
                                            },
                                            SimpleSpan {
                                                start: 262,
                                                end: 269,
                                                context: (),
                                            },
                                        ),
                                    },
                                    MatchCase {
                                        pattern: Literal(
                                            String(
                                                "/",
                                            ),
                                        ),
                                        body: (
                                            Call {
                                                func: (
                                                    Variable(
                                                        "/",
                                                    ),
                                                    SimpleSpan {
                                                        start: 290,
                                                        end: 291,
                                                        context: (),
                                                    },
                                                ),
                                                args: [
                                                    (
                                                        Variable(
                                                            "a",
                                                        ),
                                                        SimpleSpan {
                                                            start: 292,
                                                            end: 293,
                                                            context: (),
                                                        },
                                                    ),
                                                    (
                                                        Variable(
                                                            "b",
                                                        ),
                                                        SimpleSpan {
                                                            start: 294,
                                                            end: 295,
                                                            context: (),
                                                        },
                                                    ),
                                                ],
                                            },
                                            SimpleSpan {
                                                start: 289,
                                                end: 296,
                                                context: (),
                                            },
                                        ),
                                    },
                                ],
                            },
                            SimpleSpan {
                                start: 180,
                                end: 298,
                                context: (),
                            },
                        ),
                    },
                    span: SimpleSpan {
                        start: 168,
                        end: 299,
                        context: (),
                    },
                },
                HirExpr {
                    [salsa id]: Id(c05),
                    expr: Call {
                        func: (
                            Variable(
                                "print_line",
                            ),
                            SimpleSpan {
                                start: 305,
                                end: 315,
                                context: (),
                            },
                        ),
                        args: [
                            (
                                Variable(
                                    "result",
                                ),
                                SimpleSpan {
                                    start: 316,
                                    end: 322,
                                    context: (),
                                },
                            ),
                        ],
                    },
                    span: SimpleSpan {
                        start: 304,
                        end: 323,
                        context: (),
                    },
                },
            ],
            span: SimpleSpan {
                start: 0,
                end: 324,
                context: (),
            },
        },
    },
    main: Some(
        "main",
    ),
}
